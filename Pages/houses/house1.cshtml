@page
@model Web_Project.Pages.Houses.House1Model
@{
    ViewData["Title"] = "House Page";
}


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />


<link rel="stylesheet" href="/css/house1.css" />
<script src="/js/house1.js"></script>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<div class="house-container">
    <div class="photo-gallery">
        <!-- Sol tarafta büyük ana fotoğraf -->
        <div class="gallery-main">
            <img src="@Model.HouseDetails.Images[0].Url" alt="Ana Fotoğraf">
        </div>
        <!-- Sağ tarafta iki küçük fotoğraf -->
        <div class="gallery-right">
            <img src="@Model.HouseDetails.Images[1].Url" alt="Sağ Üst Fotoğraf">
            <img src="@Model.HouseDetails.Images[2].Url" alt="Sağ Alt Fotoğraf">
        </div>
        <!-- Tüm fotoğrafları göster butonu -->
        <button id="show-all-btn" onclick="showAllPhotos()">Tüm fotoğrafları göster</button>
    </div>



    <!-- Modal İçeriği -->
    <div id="photo-modal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <div class="modal-content">
            @foreach (var image in Model.HouseDetails.Images)
            {
                <img src="@image.Url" alt="Tam Boy Fotoğraf">
            }
        </div>
    </div>


    
    <div class="reservation-panel">
        <h3>@Model.HouseDetails.Price.ToString("N0") ₺ / gece</h3>
        <form>
            <label for="checkin">GİRİŞ</label>
            <input type="text" id="checkin" name="checkin" placeholder="Giriş Tarihi" readonly>

            <label for="checkout">ÇIKIŞ</label>
            <input type="text" id="checkout" name="checkout" placeholder="Çıkış Tarihi" readonly>

            <label for="guests">MİSAFİR SAYISI</label>
            <select id="guests" name="guests">
                <option value="1">1 misafir</option>
                <option value="2">2 misafir</option>
                <option value="3">3 misafir</option>
            </select>

            <button type="submit" class="reserve-btn">Rezerve edin</button>

            <p>Henüz sizden tahsilat yapılmayacak</p>
            <div class="price-details">
                <p>@Model.HouseDetails.Price.ToString("N0") ₺ x <span id="total-nights">0</span> gece</p>
                <p>Toplam: <span id="total-price">0</span> ₺</p>
            </div>
        </form>
    </div>
</div>


<div class="details">
    <h2>Bu Mekan Size Neler Sunuyor?</h2>
    <ul class="features">
        @if (Model.HouseDetails?.Features != null && Model.HouseDetails.Features.Any())
        {
            foreach (var feature in Model.HouseDetails.Features)
            {
                <li>@feature</li>
            }
        }
        else
        {
            <li>Özellikler bulunamadı.</li>
        }
    </ul>

    <h3>Uygunluk Takvimleri</h3>
    <div class="calendar-container">
        <div id="calendar1" class="calendar"></div>
    </div>
</div>


<script>
    flatpickr("#calendar1", {
         mode: "range",
         inline: true,
         dateFormat: "Y-m-d",
         showMonths: 2, // Aynı anda 2 ay göster
         minDate: "today",
         onChange: function(selectedDates) {
             if (selectedDates.length === 2) {
                 const checkinDate = selectedDates[0].toISOString().split('T')[0];
                 const checkoutDate = selectedDates[1].toISOString().split('T')[0];
                 document.getElementById('checkin').value = checkinDate;
                 document.getElementById('checkout').value = checkoutDate;

                 // Toplam gün hesaplama
                 const nights = (selectedDates[1] - selectedDates[0]) / (1000 * 3600 * 24);
                 document.getElementById('total-nights').innerText = nights;
             }
         },
     });
</script>





<div class="reviews-container">
    <!-- Değerlendirme Puanları -->
    <div class="rating-summary">
        <h3>⭐ 4,77 · 44 değerlendirme</h3>
        <div class="ratings">
            <div class="rating-item">
                <span>Temizlik</span> <strong>4,9</strong>
            </div>
            <div class="rating-item">
                <span>Doğruluk</span> <strong>4,9</strong>
            </div>
            <div class="rating-item">
                <span>Giriş</span> <strong>4,9</strong>
            </div>
            <div class="rating-item">
                <span>İletişim</span> <strong>4,9</strong>
            </div>
            <div class="rating-item">
                <span>Konum</span> <strong>4,8</strong>
            </div>
            <div class="rating-item">
                <span>Kalite/Fiyat</span> <strong>4,7</strong>
            </div>
        </div>
    </div>

    <!-- Yorumlar -->
    <div class="reviews-grid">
        <!-- Sol Yorum Grubu -->
        <div class="reviews-left">
            <div class="review">
                <img src="user1.jpg" alt="User1" class="profile-pic">
                <div>
                    <h4>Ayeshah</h4>
                    <p><strong>Temmuz 2024</strong> · Birkaç gece konakladı</p>
                    <p>Harika bir konaklama. En iyi manzaraya sahip harika bir yer...</p>
                </div>
            </div>
            <div class="review">
                <img src="user2.jpg" alt="User2" class="profile-pic">
                <div>
                    <h4>Jehad</h4>
                    <p><strong>Haziran 2024</strong> · Birkaç gece konakladı</p>
                    <p>Doğa içinde çok güzel bir yer.</p>
                </div>
            </div>
            <!-- Daha fazla yorum -->
        </div>

        <!-- Sağ Yorum Grubu -->
        <div class="reviews-right">
            <div class="review">
                <img src="user3.jpg" alt="User3" class="profile-pic">
                <div>
                    <h4>Dorukan</h4>
                    <p><strong>Haziran 2024</strong> · Birkaç gece konakladı</p>
                    <p>Yer resimlerde görüldüğü gibiydi. Çok memnun kaldım.</p>
                </div>
            </div>
            <div class="review">
                <img src="user4.jpg" alt="User4" class="profile-pic">
                <div>
                    <h4>Deniz</h4>
                    <p><strong>Haziran 2024</strong> · Birkaç gece konakladı</p>
                    <p>Ev fotoğraflardaki gibi temiz ve düzenliydi...</p>
                </div>
            </div>
        </div>
    </div>
</div>

